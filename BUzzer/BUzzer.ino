
//#define BP PB_5
//int buzzerPin = BP;
//const int J2 = PB_0;
//void setup() {
//  // put your setup code here, to run once:
//  // call the song function with digital pin
//  pinMode(buzzerPin,OUTPUT);
//  pinMode(J2, INPUT_PULLUP);
//
//
//}
//
//void loop() {
//  // put your main code here, to run repeatedly:
//    if(digitalRead(J2) == LOW){
//    song();    
//  }
//  noTone(buzzerPin);
//}
//
//void song(){
//  
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 131);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 262);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 523);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 698);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1047);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1397);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1865);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1397);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1047);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 698);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 523);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 262);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 131);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 392);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 440);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 784);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 880);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1568);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 880);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 784);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 440);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 392);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 131);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 262);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 523);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 698);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1047);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1397);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1865);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1397);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1047);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 698);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 523);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 262);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 131);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 392);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 440);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 784);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 880);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1568);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 880);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 784);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 587);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 440);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 392);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 294);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 156);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 311);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 392);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 622);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 698);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 784);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1245);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1397);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1568);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1397);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 1245);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 932);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 784);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 698);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 622);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 466);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 392);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 311);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 156);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 131);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 196);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 220);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 262);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 349);
//  delay(150);
//  noTone(buzzerPin);
//}






char com;
int pushB1 = PUSH1;                   // El push está attached con el PUSH 1
int VAL = 0;                          // Valor del contador del primer boton
int FLAG = 0;                         // Bandera para los botones
#define BP PB_5
int buzzerPin = BP;

//******************************************************************************************
//                                     S E T   U P 
//******************************************************************************************

void setup() {
  Serial.begin(9600);                           // Inicializar C. serial a 9600 bits per second
  Serial3.begin(9600);                          // Inicializar C. serial a 9600 bits per second
  Serial3.setTimeout(50);                        // T para la transf. de datos
  delay(100);
  pinMode(PB_2, OUTPUT);                        // Pin para el led
  pinMode(PE_0, OUTPUT);                        // Pin para el led
  pinMode(PF_0, OUTPUT);                        // Pin para el led
  pinMode(pushB1, INPUT_PULLUP);      // Hacer el pin un input pull up
  pinMode(buzzerPin,OUTPUT);
}

//*****************************************************************************************
//                               L O O P   P R I N C I P A L
//*****************************************************************************************
void loop() {
         
  if (Serial3.available()){                      
    com = Serial3.read();                   // Guardar lo leído en Message
    Serial.write(com);                     // Escribir lo que se recibe
 
  delay(4);
  if(com == 0){                          // Recibe un 1
      digitalWrite(PB_2, HIGH);                 // Se enciende el Led
      digitalWrite(PF_0, HIGH);
      digitalWrite(PE_0, HIGH);
      song();
      delay(10);
      digitalWrite(PB_2, LOW);                 // Se enciende el Led
      digitalWrite(PF_0, LOW);
      digitalWrite(PE_0, LOW);
      noTone(buzzerPin);
  }
    if(com == 1){                          // Recibe un 1
      digitalWrite(PB_2, HIGH);                 // Se enciende el Led
      digitalWrite(PF_0, LOW);
      digitalWrite(PE_0, LOW);
      song();
      delay(10);
      digitalWrite(PB_2, LOW);                 // Se enciende el Led
      digitalWrite(PF_0, LOW);
      digitalWrite(PE_0, LOW);
      noTone(buzzerPin);
  }

    if(com == 2){                          // Recibe 0
      digitalWrite(PE_0, HIGH);                  // Se apaga el LED
      digitalWrite(PF_0, LOW);
      digitalWrite(PB_2, LOW);
      song();
      delay(10);
      digitalWrite(PB_2, LOW);                 // Se enciende el Led
      digitalWrite(PF_0, LOW);
      digitalWrite(PE_0, LOW);
      noTone(buzzerPin);
  }

   if(com == 3){                          // Recibe 0
      digitalWrite(PF_0, HIGH);                  // Se apaga el LED
      digitalWrite(PE_0, LOW);
      digitalWrite(PB_2, LOW); 
      song();
      delay(10);
      digitalWrite(PB_2, LOW);                 // Se enciende el Led
      digitalWrite(PF_0, LOW);
      digitalWrite(PE_0, LOW);
      noTone(buzzerPin);
      
  }
   }

   
}
void song(){
  
//  tone(buzzerPin, 233);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 131);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 147);
//  delay(150);
//  noTone(buzzerPin);
//
//  tone(buzzerPin, 175);
//  delay(150);
//  noTone(buzzerPin);

  tone(buzzerPin, 233);
  delay(150);
  noTone(buzzerPin);

  tone(buzzerPin, 262);
  delay(150);
  noTone(buzzerPin);

  tone(buzzerPin, 294);
  delay(150);
  noTone(buzzerPin);
}
